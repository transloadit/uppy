{"version":3,"sources":["../../src/plugins/Informer.js"],"names":["Plugin","require","module","exports","core","opts","type","id","title","defaultOptions","typeColors","info","text","bg","warning","error","success","render","bind","state","isHidden","message","details","style","install","target","plugin","mount"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,SAASC,QAAQ,UAAR,CAAf;;;AAGA;;;;;;;AAOAC,OAAOC,OAAP;AAAA;;AACE,oBAAaC,IAAb,EAAmBC,IAAnB,EAAyB;AAAA;;AAAA,iDACvB,mBAAMD,IAAN,EAAYC,IAAZ,CADuB;;AAEvB,UAAKC,IAAL,GAAY,mBAAZ;AACA,UAAKC,EAAL,GAAU,UAAV;AACA,UAAKC,KAAL,GAAa,UAAb;AACA;;AAEA;AACA,QAAMC,iBAAiB;AACrBC,kBAAY;AACVC,cAAM;AACJC,gBAAM,MADF;AAEJC,cAAI;AAFA,SADI;AAKVC,iBAAS;AACPF,gBAAM,MADC;AAEPC,cAAI;AAFG,SALC;AASVE,eAAO;AACLH,gBAAM,MADD;AAELC,cAAI;AAFC,SATG;AAaVG,iBAAS;AACPJ,gBAAM,MADC;AAEPC,cAAI;AAFG;AAbC;;AAoBd;AArBuB,KAAvB,CAsBA,MAAKR,IAAL,GAAY,SAAc,EAAd,EAAkBI,cAAlB,EAAkCJ,IAAlC,CAAZ;;AAEA,UAAKY,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,OAAd;AAhCuB;AAiCxB;;AAlCH,qBAoCED,MApCF,mBAoCUE,KApCV,EAoCiB;AAAA;;AAAA,sBAC8BA,MAAMR,IADpC;AAAA,QACNS,QADM,eACNA,QADM;AAAA,QACId,IADJ,eACIA,IADJ;AAAA,QACUe,OADV,eACUA,OADV;AAAA,QACmBC,OADnB,eACmBA,OADnB;;AAEb,QAAMC,+BAA6B,KAAKlB,IAAL,CAAUK,UAAV,CAAqBJ,IAArB,EAA2BO,EAAxD,iBAAsE,KAAKR,IAAL,CAAUK,UAAV,CAAqBJ,IAArB,EAA2BM,IAAjG,MAAN;;AAEA;AACA;AACA,0FAAuEW,KAAvE,uDAA8FH,QAA9F,kKAEMC,OAFN,OAGMC,kGAAqC,KAAKjB,IAAL,CAAUK,UAAV,CAAqBJ,IAArB,EAA2BO,EAAhE,wDAAqFS,OAArF,6IAA6J,IAHnK;AAMD,GAhDH;;AAAA,qBAkDEE,OAlDF,sBAkDa;AACT,QAAMC,SAAS,KAAKpB,IAAL,CAAUoB,MAAzB;AACA,QAAMC,SAAS,IAAf;AACA,SAAKD,MAAL,GAAc,KAAKE,KAAL,CAAWF,MAAX,EAAmBC,MAAnB,CAAd;AACD,GAtDH;;AAAA;AAAA,EAAwC1B,MAAxC","file":"Informer.js","sourcesContent":["const Plugin = require('./Plugin')\nconst html = require('yo-yo')\n\n/**\n * Informer\n * Shows rad message bubbles\n * used like this: `uppy.info('hello world', 'info', 5000)`\n * or for errors: `uppy.info('Error uploading img.jpg', 'error', 5000)`\n *\n */\nmodule.exports = class Informer extends Plugin {\n  constructor (core, opts) {\n    super(core, opts)\n    this.type = 'progressindicator'\n    this.id = 'Informer'\n    this.title = 'Informer'\n    // this.timeoutID = undefined\n\n    // set default options\n    const defaultOptions = {\n      typeColors: {\n        info: {\n          text: '#fff',\n          bg: '#000'\n        },\n        warning: {\n          text: '#fff',\n          bg: '#F6A623'\n        },\n        error: {\n          text: '#fff',\n          bg: '#e74c3c'\n        },\n        success: {\n          text: '#fff',\n          bg: '#7ac824'\n        }\n      }\n    }\n\n    // merge default options with the ones set by user\n    this.opts = Object.assign({}, defaultOptions, opts)\n\n    this.render = this.render.bind(this)\n  }\n\n  render (state) {\n    const {isHidden, type, message, details} = state.info\n    const style = `background-color: ${this.opts.typeColors[type].bg}; color: ${this.opts.typeColors[type].text};`\n\n    // @TODO add aria-live for screen-readers\n    // maybe details.length < N to set bubble size\n    return html`<div class=\"Uppy UppyTheme--default UppyInformer\" style=\"${style}\" aria-hidden=\"${isHidden}\">\n      <p>\n        ${message} \n        ${details ? html`<span style=\"color: ${this.opts.typeColors[type].bg}\" data-balloon=\"${details}\" data-balloon-pos=\"up\" data-balloon-length=\"large\">?</span>` : null}\n      </p>\n    </div>`\n  }\n\n  install () {\n    const target = this.opts.target\n    const plugin = this\n    this.target = this.mount(target, plugin)\n  }\n}\n"]}