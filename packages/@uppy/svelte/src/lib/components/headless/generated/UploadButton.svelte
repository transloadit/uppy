<script lang="ts">
  // This file was generated by build-components.mjs
  // ANY EDITS WILL BE OVERWRITTEN!
  import { getContext, mount } from 'svelte'
  import {
    UploadButton as PreactUploadButton,
    type UploadButtonProps,
    type UppyContext,
  } from '@uppy/components'
  import { h as preactH, render as preactRender } from 'preact'
  import { UppyContextKey } from '../UppyContextProvider.svelte'

  const props: Omit<UploadButtonProps, 'ctx'> = $props()
  const ctx = getContext<UppyContext>(UppyContextKey)
  let container: HTMLElement

  $effect(() => {
    if (container) {
      preactRender(
        preactH(PreactUploadButton, {
          ...props,
          ctx,
        } satisfies UploadButtonProps),
        container,
      )
    }
  })
</script>

<div bind:this={container}></div>
